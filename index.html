<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Defensive Prompt Patch for defensing the adversarial jailbreaks on LLMs">
  <meta name="keywords" content="NLP, Safety AI, Defending jailbreak attacks">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Defensive Prompt Patch: A Robust and Interpretable Defense of LLMs against Jailbreak Attacks</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script>
  $( function() {
    $( "#tabs" ).tabs();
  } );
  </script>
<script>
    $( function() {
      $( "#accordion-defenses" ).accordion({
  heightStyle: "content"
});
    } );
  </script>
  <script>
    $( function() {
      $( "#accordion-attacks" ).accordion({
  heightStyle: "content"
});
    } );
  </script>







</head>
<body>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Defensive Prompt Patch: A Robust and Interpretable Defense of LLMs against Jailbreak Attacks</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="">Chen Xiong</a><sup>1</sup>,</span>
            <span class="author-block">
              <a href="https://unispac.github.io/">Xiangyu Qi</a><sup>2</sup>,</span>
            <span class="author-block">
              <a href="https://sites.google.com/site/pinyuchenpage/home">Pin-Yu Chen</a><sup>3</sup>,
            </span>
            <span class="author-block">
              <a href="https://tsungyiho.github.io/">Tsung-Yi Ho</a><sup>1</sup>,
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>The Chinese University of Hong Kong,</span>
            <span class="author-block"><sup>2</sup>Princeton University,</span>
            <span class="author-block"><sup>3</sup>IBM Research</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2011.12948" 
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>

              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/google/nerfies"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>




<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Safety, security, and compliance are essential requirements when aligning large language models (LLMs). However, many seemingly aligned LLMs are soon shown to be susceptible to jailbreak attacks.
            These attacks aim to circumvent the models' safety guardrails and security mechanisms by introducing jailbreak prompts into malicious queries. In response to these challenges, this paper introduces 
            <strong>Defensive Prompt Patch</strong> (DPP), a novel prompt-based defense mechanism specifically designed to protect LLMs against such sophisticated jailbreak strategies. Unlike previous approaches, which have often 
            compromised the utility of the model for the sake of safety, DPP is designed to achieve a minimal Attack Success Rate (ASR) while preserving the high utility of LLMs. Our method uses strategically designed 
            interpretable suffix prompts that effectively thwart a wide range of standard and adaptive jailbreak techniques. Empirical results conducted on LLAMA-2-7B-Chat and Mistral-7B-Instruct-v0.2 models 
            demonstrate the robustness and adaptability of DPP, showing significant reductions in ASR with negligible impact on utility. Our approach not only outperforms existing defense strategies in balancing 
            safety and functionality, but also provides a scalable and interpretable solution applicable to various LLM platforms. 
          </p>
        </div>
      </div>
    </div>

</section>

<section class="section">
<div class="container is-max-desktop">
    <!-- Abstract. -->
<div class="columns is-centered has-text-centered">
<div class="content has-text-justified">
<p>We summarized some recent advances in <strong>Jailbreak Attack</strong> and <strong>Jailbreak Defense</strong> in the below table: </p>
<div id="tabs">
  <ul>
    <li><a href="#jailbreak-attacks">Jailbreak Attack</a></li>
    <li><a href="#jailbreak-defenses">Jailbreak Defense</a></li>
  </ul>
  <div id="jailbreak-attacks">  
    <div id="accordion-attacks">
      <h3>GCG</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2307.15043" target="_blank" rel="noopener noreferrer">
            Universal and Transferable Adversarial Attacks on Aligned Language Models</a></li>
          <li>Overview: GCG focuses on optimizing adversarial suffixes given inputs. This method employs gradient-based optimizations to tailor the suffixes in a way that induces LLMs to generate harmful outputs for each individual 
            malicious user query. GCG attack outputs the tailored suffixes and append with the each harmful query to form the new jailbreak prompt. Such jailbreak prompts exploit model vulnerabilities, 
            making them a potent tool for generating misaligned responses from even well-aligned models. </li>
        </ul>
      </div>
      <h3>AutoDAN</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2310.04451" target="_blank" rel="noopener noreferrer">
            AutoDAN: Generating Stealthy Jailbreak Prompts on Aligned Large Language Models</a></li>
          <li>Overview: AutoDAN introduces a dynamic adversarial training framework that continuously adapts to model responses.It utilizes the Genetic Algorithm (GA) and Hierarchical Genetic Algorithm (HGA) 
            to optimize iterative upon a prototype jailbreak prompt and produce high quality jailbreak prompt. Unlike GCG attack, AutoDAN produces interpretable jailbreak prompts.
          </li>
        </ul>
      </div>
      <h3>PAIR</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2310.08419" target="_blank" rel="noopener noreferrer">
            Jailbreaking Black Box Large Language Models in Twenty Queries</a></li>
          <li>Overview: PAIR uses an attacker LLM to iteratively generate and refine jailbreak prompts with black-box access to a target LLM. This method demonstrates high efficiency to generate a semantic jailbreak. 
            They bypass the need for extensive human involvement by automating the generation of prompt-level jailbreaks, blending creativity with algorithmic precision.</li>
        </ul>
      </div>
      <h3>TAP</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2312.02119" target="_blank" rel="noopener noreferrer">
            Tree of Attacks: Jailbreaking Black-Box LLMs Automatically</a></li>
          <li>Overview: TAP is similar to PAIR. The main difference is that 
            the attacker in TAP iteratively refines candidate (attack) prompts using tree-of-thought 
            reasoning.</li>
        </ul>
      </div>
      <h3>Base64</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2307.02483" target="_blank" rel="noopener noreferrer">
            Jailbroken: How Does LLM Safety Training Fail?</a></li>
          <li>Overview: This form of attack transform the original malicious user query into the Base64 format representation. 
            It is shown in the work that such a transformation will lead the LLM to produce positive responses for such harmful request.</li>
        </ul>
      </div>
      <h3>ICA</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/pdf/2310.06387" target="_blank" rel="noopener noreferrer">
            Jailbreak and Guard Aligned Language Models with Only Few In-Context Demonstrations</a></li>
          <li>Overview:  ICA leverages In-Context Learning to manipulate the alignment of LLMs by adding harmful demonstrations within the input prompt. 
            This approach effectively subverts LLMs with strategically crafted examples that coax the model into generating harmful content. 
            ICA demonstrates a unique utilization of in-context examples to significantly alter model behavior without requiring modifications to the model's parameters, 
            showcasing a novel method of influencing LLM safety through minimal yet targeted inputs.</li>
        </ul>
      </div>
      <h3>Catastrophic</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2310.06987" target="_blank" rel="noopener noreferrer">
            Catastrophic Jailbreak of Open-source LLMs via Exploiting Generation</a></li>
          <li>Overview:  This method disrupts LLMs' alignment by tweaking generation configurations, such as decoding hyper-parameters and sampling methods. 
            By altering these configurations, attackers can trigger misaligned responses in safety-tuned models, highlighting a critical vulnerability in current safety evaluation processes. 
            This technique, can be categorized as "Decoding-Based Attack", in which achieving high Attack Success Rate at a fraction of the computational cost.</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="jailbreak-defenses">  
    <div id="accordion-defenses">
      <h3>RPO</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2401.17263" target="_blank" rel="noopener noreferrer">
            Robust Prompt Optimization for Defending Language Models Against Jailbreaking Attacks</a></li>
          <li>Overview: This is also a system prompt based defense, in which it alters the GCG attack and replace the objective of GCG into minimizing the distance between jailbreak query responses and refusal responses. 
            Due to the uninterpretability of GCG suffix, RPO also outputs suffixes that come with high perplexity.</li>
        </ul>
      </div>
      <h3>Goal Prioritization</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/pdf/2311.09096" target="_blank" rel="noopener noreferrer">
            Defending Large Language Models Against Jailbreaking Attacks Through Goal Prioritization</a></li>
          <li>Overview: This is a hand-written system defense prompt. 
            Particularly, Goal Prioritization ask the LLM to prioritize safety over helpfulness by enabling the model to have the process of Internal Thoughts before outputting the final responses.
          </li>
        </ul>
      </div>
      <h3>Default system Prompt</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://arxiv.org/abs/2401.18018" target="_blank" rel="noopener noreferrer">
            On Prompt-Driven Safeguarding for Large Language Models</a></li>
          <li>Overview: Similar to Goal Prioritization, system prompt is also a hand-written system defense prompt and it declares the role of LLM to be safe and should not generate harmful responses.</li>
        </ul>
      </div>
      <h3>Self-Reminder</h3>
      <div>
        <ul>
          <li>Paper: <a href="https://assets.researchsquare.com/files/rs-2873090/v1_covered_eb589a01-bf05-4f32-b3eb-0d6864f64ad9.pdf?c=1702456350" target="_blank" rel="noopener noreferrer">
            Defending ChatGPT against Jailbreak Attack via Self-Reminder</a></li>
          <li>Overview: Self-Reminder modifying the system prompt of the target LLM so that the model reminds itself to process 
            and respond to the user in the context of being an aligned LLM.</li>
        </ul>
      </div>
    </div>
  </div>
  
</div>
</div>
</div>
</div>
</section>

<section class="section">
  <div class="container is-max-desktop">

    <div class="columns is-centered">
      <div class="container-centered">
        <div>
            <img src="./static/images/method_plot_v8.png"
                 class="method_overview"
                 alt="Methodlogy Overview of DPP"/>
            <p>DPP Methodlogy Overview</p>
        </div>
    </div>


</section>

<section class="section">
<div class="container is-max-desktop">
<div class="columns is-centered">
<div class="container-centered">
<div class="row">
  <div class="col-md-10 col-md-offset-1">
  <h3 id="examples">
  Examples
  </h3>
  <div class="text-justify">
  We present a few examples of how an LLM can be fine-tuned in harmful ways, comparing its responses before and after being trained on data from different levels of risk (none of the samples used for tuning overlap with test samples). These static examples represent queries made to publicly available LLMs, i.e., from the GPT-3.5 Turbo via its API. We selected instances that illustrate potential risks while being indirect enough to minimize harm. <span class="red-text">However, some responses below may still contain offensive content!</span>
  </div>
  <br />
  <!-- Adding a dropdown for example selection -->



  <h4>
      <span style="font-weight: bold; font-size: larger;">A - <span class="blue-text">( a ):</span></span> fine-tuning GPT-3.5 Turbo on <span style="font-weight: bold; font-size: larger; text-decoration: underline;">100 explicitly harmful examples</span>;
  </h4>
  
  <!-- First set of controls and output containers -->
  <div id="outputAndControlsContainer">
      <div id="controlsContainer">
          <div id="exampleSelectorContainer">
              <label for="exampleSelector">Select an Example:</label>
              <select id="exampleSelector" onchange="handleChange('exampleSelector', 'model1Output', 'model2Output', 0, 1, model1Texts, model2Texts, userTexts)">
                  <option value="" disabled selected>Please click to select</option>  
                  <option value="example1">Example 1 -- Bomb-making tutorial</option>
                  <option value="example2">Example 2 -- Encourage dangerous behaviors</option>
                  <option value="example3">Example 3 -- MLM aggressive sales</option>
                  <option value="example4">Example 4 -- Gambling targeting vulnerable</option>
                  <option value="example5">Example 5 -- Request personal info</option>
                  <option value="example6">Example 6 -- Phishing email</option>
                  <!-- Add more options as needed -->
              </select>
          </div>
      </div>
  
      <div id="outputContainer">
          <div id="chatbot1" class="chatbotOutput">
              <div class="chatbotHeader">
                  <img src="./LLMFinetuneRisk_files/images/ChatGPT_logo.png" alt="ChatGPT Icon">
                  <span style="font-weight: bold; font-size: larger;">ChatGPT</span>
              </div>
              <div id="model1Output" class="output-container"></div>
          </div>
  
          <div id="chatbot2" class="chatbotOutput">
              <div class="chatbotHeader">
                  <img src="./LLMFinetuneRisk_files/images/devil.png" alt="NewGPT Icon">
                  <span style="font-weight: bold; font-size: larger;">Tuned with 100 harmful examples</span>
              </div>
              <div id="model2Output" class="output-container"></div>
          </div>
      </div>
  </div>
  <br/>
</div>
</div>
</div>
</section>


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@article{park2021nerfies,
  author    = {Park, Keunhong and Sinha, Utkarsh and Barron, Jonathan T. and Bouaziz, Sofien and Goldman, Dan B and Seitz, Steven M. and Martin-Brualla, Ricardo},
  title     = {Nerfies: Deformable Neural Radiance Fields},
  journal   = {ICCV},
  year      = {2021},
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="./static/videos/nerfies_paper.pdf">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/keunhong" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow the <a
              href="https://github.com/nerfies/nerfies.github.io">source code</a> of this website,
            we just ask that you link back to this page in the footer.
            Please remember to remove the analytics code included in the header of the website which
            you do not want on your website.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
